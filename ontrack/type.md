###类型，类型###
严格来说，C 语言不是一门**强类型** (Strong Typing) 的语言。但是 C 的类型系统仍然是充满了坑，值得一说。
####为什么跟我想的结果不同####
有这么一位同学给了我这样一段代码：

	float c,f=0.00;
	scanf("%.2f\n", &f);	c=5/9*(f-32);	printf("%.2f\n", c);

他问我为什么不管输入什么值结果都是0. 本来应该是输出华氏温度对应的摄氏温度啊。是的，如果你对 C 的类型系统不了解，可能打破头都想不出来。

在 C 语言里，这两个运算的结果是不一样的：

	3 / 4
	3.0 / 4.0

第二个运算的结果，可能是 0.75 可能是 0.8 可能是 1，因为你输出的格式不同而有所不同，但反正不是 0. 而第一个的结果是0.

为什么？第一个除法，是整数之间的除法，可以理解成除了之后，小数部分会被直接截掉。而第二个除法，系统在进行运算的时候是看成``double``类型，除完结果带小数部分的。所以前面的问题也就好理解了。而如果一个整数去除一个浮点数，结果还是一个浮点数，这就是 C 语言里的**隐式类型转换** (Implicit Type Conversion)。在具体的操作中：

* ``short``、``unsigned``这样的类型在和``int``进行运算时会被转化为标准的``int``类型
* ``char``在和``int``进行运算的时候也会被转换为``int``类型
* ``int``在和浮点类型运算的时候会自动转化为浮点类型
* 一个整数常数默认是``int``类型，浮点常数默认是``double``类型

###编码风格###
前面有提过 C 语言格式自由，很多时候不管写得好看或者难看都可以通过编译产生正确的程序。但这并不代表说写代码就可以随心所欲了。虽然说现在写的东西还很简单，但是习惯要从开始就养起。
####花括号####
一般人函数的花括号都是这样写的：

	int foo()
	{
		// do something
	}

文艺一点的可能会这样：

	int foo() {
		// do something
	}

有些喜欢抠脚的大神级人物写成这样：

	int foo()
		{
		// do something
		}

我只能说，服。不过无论如何，风格要一致，缩进还是要有。个人比较喜欢第一种。

那么除了函数的花括号，还有各种控制语句的花括号，三种类型同上。不过有没觉得这样写是最优雅的？

	if (a == b) {
		// oh
	} else if (a + b == c) {
		// my
	} else {
		// god
	}
	
	for (int i = 0; i < maxlength; ++i) {
		// don't use a new line
	}

大概就像这样。

####空格和缩进####
在符号和变量之间留下适当的空格会让代码看起来舒服得多。编码的时候多打几个空格占用不了多少时间。

如果你用**集成开发环境** (Integrated Developing Environment, IDE) 编程，里面的编辑器应该都是自带**缩进** (Indent) 功能的，亦即在你写代码的时候，在适当的逻辑层次它会在前面留空，给人层次感。缩进可以用制表符，可以用空格，一般一层四个就够了。

顺便说，如果一个函数代码的缩进层次超过了四层，那你应该考虑把里面的某些功能分拆出来，再写个新的函数了。

如果你始终无法养成使用缩进的习惯，那么我建议你先去学 Python. 毕竟，急病下猛药，别弃疗。

####变量命名####
我一直觉得变量命名不是一个编程水平的问题，而是一个英语水平的问题……

一般对变量和函数进行命名，有这样几种方法：

	int SizeOfArray; // Pascal Case (Upper Camel Case)
	size_t sizeOfArray; // Lower Camel Case
	struct json init_object; // Underlined Case

所谓的匈牙利命名法，大概就是用一些约定俗成的小写字母来代表这个变量的类型，然后放在变量的最前面。比如说``g_nWheels``就表示“轮子的数量”，这是一个整数变量，并且是全局变量。

当然啦，夹私货的话，在 C 中个人偏爱上面的第三种，全小写然后用下划线连接。下面是一些单词常用的缩写：

	cnt	<=	count
	blk	<=	block
	len	<=	length
	win	<=	window
	msg	<=	message
	nr	<=	number
	tmp	<=	temporary
	i18n<=	internationalization
	x	<=	trans

当然了，对于循环变量，用从``i``开始的单个小写字母，还是很方便很容易理解的。